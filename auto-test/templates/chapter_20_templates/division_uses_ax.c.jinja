{% if unsigned %}
{% set typ = "unsigned int" %}
{% set id_fun = "unsigned_id" %}
{% set validate_fun = "check_one_uint" %}
{% else %}
{% set typ = "int" %}
{% set id_fun = "id" %}
{% set validate_fun = "check_one_int" %}
{% endif %}
{% if unsigned %}
/* Make sure we recognize that div makes EAX live.
 {% else %}
/* Make sure we recognize that at least one of cdq/idiv makes EAX live.
 * (There's no way to test these instructions separately.)
 {% endif %}
 * Don't inspect assembly, just validate behavior
 * NOTE: only works as intended once we implement coalescing.
 *
 * This test program is generated from templates/{{ self._TemplateReference__context.name }}
 */

#include "../util.h"

int main(void) {
    
    
    {{typ}} coalesce_into_eax = {{id_fun}}(10);

    
    
    
    
    
    {{typ}} sum = coalesce_into_eax + 4;

    
    
    
    if (sum != 14) {
        return -1;
    }

    
{% if unsigned %}
    
    
    
    
    
    
{% else %}
    
    
    
    
    
    
{% endif %}
    {{typ}} rem = coalesce_into_eax % 10;

    
    {{validate_fun}}(rem, 0);

    return 0;  
}